<section class="fixedSection">
  <div class="container-fluid pokeMap--padding">
    <div class="row h-100-vh justify-content-center align-items-center">
      <div class="col-12">
        <table class="pokeMap pokeMapTable pokeMapTable__home pokeMap--noBorder pokeMap--noOverflow d-flex justify-content-center">
          <tbody class="player">
            <tr ng-repeat="map in $ctrl.mapa.map track by $index">
              <td
              style="background-image: url({{$ctrl.Image.imageType[col.type].image}})"
              ng-repeat='col in map.colunas track by $index'
              ng-class="{'pokeMapTable__td': col.object != '','playerHere': col.id == $ctrl.player.position.x && col.id_map == $ctrl.player.position.y}"
              class="pokeMap--before"
              >
                <img draggable="false" ng-if="col.object != ''" src="{{$ctrl.Image.imageType[col.object].image}}">

                <img draggable="false" class="pokeMapTable__td__img __top" ng-if="col.beforeOne != ''" src="{{col.beforeOne}}">
                <img draggable="false" class="pokeMapTable__td__img __down" ng-if="col.afterOne != ''" src="{{col.afterOne}}">
                <img draggable="false" class="pokeMapTable__td__img __left" ng-if="col.beforeTwo != ''" src="{{col.beforeTwo}}">
                <img draggable="false" class="pokeMapTable__td__img __right" ng-if="col.afterTwo != ''" src="{{col.afterTwo}}">

              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</section>
<!-- Modal -->
<div class="modal fade" id="battleModal" tabindex="-1" role="dialog" aria-labelledby="battleModalTitle" data-backdrop="static" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
      </div>
      <div class="modal-body">
        ...
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">Run!</button>
      </div>
    </div>
  </div>
</div>
<style media="screen">
  .player:before{
    background-image: url({{$ctrl.player.image}});
    left: {{($ctrl.player.position.x)*40}}px;
    top: {{($ctrl.player.position.y)*40}}px;
  }
  .player{
    left: calc({{($ctrl.player.position.x)*-40}}px + 10%);
    top: {{($ctrl.player.position.y)*-40}}px;
  }
</style>
